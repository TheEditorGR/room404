<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ROOM404 â€” Neural Access Protocol (INTENSE)</title>
<style>
  :root{
    --red:#ff1a1a;
    --deep-red:#7a0000;
    --ember:#ff4d4d;
    --void:#020101;
    --shadow:#070707;
  }
  *{box-sizing:border-box}
  html,body{
    height:100%;margin:0;background:#000;color:var(--red);
    font-family:"Courier New",monospace;overflow:hidden;letter-spacing:0.6px;
  }
  body{
    position:relative;
    background:
      radial-gradient(circle at 12% 18%,rgba(160,0,0,0.45),transparent 55%),
      radial-gradient(circle at 82% 12%,rgba(100,0,0,0.35),transparent 60%),
      radial-gradient(circle at center,rgba(0,0,0,0.9),rgba(0,0,0,1)),
      repeating-linear-gradient(140deg,rgba(60,0,0,0.22) 0,rgba(60,0,0,0.22) 6px,transparent 6px,transparent 16px);
    filter:contrast(1.08) saturate(1.12);
  }
  body::before,body::after{
    content:"";position:fixed;inset:-80px;pointer-events:none;mix-blend-mode:screen;opacity:0.18;
    background:
      repeating-linear-gradient(0deg,rgba(255,0,0,0.22) 0,rgba(255,0,0,0.22) 2px,transparent 2px,transparent 6px),
      repeating-linear-gradient(90deg,rgba(255,255,255,0.06) 0,rgba(255,255,255,0.06) 6px,transparent 6px,transparent 18px);
    animation:staticFlicker 280ms steps(2) infinite;
  }
  body::after{opacity:0.36;mix-blend-mode:color-dodge;filter:blur(1.8px);animation-duration:220ms;}
  @keyframes staticFlicker{0%{transform:translate3d(0,0,0);}50%{transform:translate3d(-6px,3px,0);}100%{transform:translate3d(4px,-5px,0);}}
  /* Intro */
  #intro{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:radial-gradient(circle at center,#010000 20%, #050000 50%, #000 74%);
    flex-direction:column;padding:40px;text-align:center;z-index:40;
    overflow:hidden;gap:24px;
  }
  #intro.rupture{animation:introRupture 0.6s steps(2) forwards;}
  @keyframes introRupture{0%{opacity:1;filter:none;}50%{opacity:0.35;filter:contrast(2.4) saturate(1.9);}100%{opacity:0;filter:contrast(4) saturate(2.4);transform:scale(1.08);}}
  #intro.rupture .warning{animation:warningBurst 0.6s steps(2) forwards;}
  @keyframes warningBurst{0%{transform:scale(1);opacity:1;}60%{transform:scale(1.14);opacity:0.45;}100%{transform:scale(1.28);opacity:0;}}
  #intro::before,#intro::after{
    content:"";position:absolute;inset:-160px;pointer-events:none;mix-blend-mode:screen;
    background:conic-gradient(from 90deg,rgba(255,0,0,0.2),rgba(0,0,0,0) 30%,rgba(255,0,0,0.24) 60%,rgba(255,255,255,0.15) 80%,rgba(0,0,0,0));
    animation:introPulse 2.2s ease-in-out infinite;
  }
  #intro::after{animation-duration:1.4s;filter:blur(7px);opacity:0.68;}
  @keyframes introPulse{0%{transform:rotate(0deg) scale(1);}50%{transform:rotate(12deg) scale(1.08);}100%{transform:rotate(0deg) scale(1);}}
  h1{font-size:34px;letter-spacing:5px;text-shadow:0 0 48px #c00,0 0 18px rgba(255,0,0,0.45);margin-bottom:4px;}
  .intro-sigil{
    font-size:15px;letter-spacing:8px;color:#ffcccc;text-transform:uppercase;opacity:0.87;
    text-shadow:0 0 16px rgba(255,0,0,0.45);
  }
  .intro-grid{position:relative;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;align-items:stretch;max-width:960px;width:100%;}
  .intro-cell{border:1px solid rgba(255,0,0,0.32);padding:22px;position:relative;background:linear-gradient(180deg,rgba(14,0,0,0.8) 0%,rgba(2,0,0,0.92) 100%);box-shadow:0 0 65px rgba(255,0,0,0.2) inset,0 0 36px rgba(160,0,0,0.35);text-align:left;font-size:14px;line-height:1.6;letter-spacing:1.6px;color:#ffe5e5;overflow:hidden;}
  .intro-cell::before{content:"";position:absolute;inset:0;opacity:0.25;mix-blend-mode:screen;background:repeating-linear-gradient(180deg,rgba(255,0,0,0.15) 0,rgba(255,0,0,0.15) 1px,transparent 1px,transparent 4px);animation:warningScan 0.95s linear infinite;}
  .intro-cell strong{display:block;font-size:13px;letter-spacing:4px;color:#ffb0b0;margin-bottom:8px;text-transform:uppercase;}
  .intro-badge{font-size:12px;letter-spacing:4px;color:#ff9696;text-transform:uppercase;margin-bottom:10px;display:block;}
  .intro-plaque{display:flex;flex-direction:column;gap:12px;align-items:center;border:1px solid rgba(255,0,0,0.28);padding:20px 28px;background:rgba(6,0,0,0.82);box-shadow:0 0 35px rgba(255,0,0,0.3);}
  .intro-plaque h2{margin:0;font-size:16px;letter-spacing:6px;color:#ffadad;text-transform:uppercase;text-shadow:0 0 18px rgba(255,0,0,0.55);}
  .intro-plaque .intro-sub{font-size:12px;letter-spacing:4px;color:#ff9999;text-transform:uppercase;text-align:center;}
  .warning{
    max-width:940px;color:#ffdddd;opacity:0.99;margin:8px 0;line-height:1.75;
    border:1px solid rgba(255,0,0,0.3);padding:32px;border-radius:14px;background:rgba(6,0,0,0.68);
    box-shadow:0 0 70px rgba(255,0,0,0.32) inset,0 0 34px rgba(140,0,0,0.48);
    position:relative;overflow:hidden;text-align:left;
  }
  .warning::before{
    content:"";position:absolute;inset:0;mix-blend-mode:screen;opacity:0.38;
    background:repeating-linear-gradient(0deg,rgba(255,0,0,0.25) 0,rgba(255,0,0,0.25) 1px,transparent 1px,transparent 4px);
    animation:warningScan 1s linear infinite;
  }
  .warning::after{
    content:"";position:absolute;inset:0;mix-blend-mode:color-dodge;opacity:0.25;filter:blur(1px);
    background:radial-gradient(circle at 30% 30%,rgba(255,0,0,0.18),transparent 50%);
    animation:ocularBloom 2.6s ease-in-out infinite;
  }
  @keyframes warningScan{0%{transform:translateY(-16px);}100%{transform:translateY(16px);}}
  @keyframes ocularBloom{0%{opacity:0.18;}50%{opacity:0.42;}100%{opacity:0.18;}}
  .controls{display:flex;gap:18px;margin-top:18px}
  button{
    background:linear-gradient(180deg,#2b0000 0%,#130000 100%);
    color:#fff;border:1px solid #990000;padding:13px 28px;border-radius:8px;cursor:pointer;font-size:15px;letter-spacing:2px;
    text-transform:uppercase;box-shadow:0 0 18px rgba(255,0,0,0.25);
    transition:transform 0.2s ease,box-shadow 0.2s ease,filter 0.2s ease;
    position:relative;overflow:hidden;
  }
  button::after{
    content:"";position:absolute;inset:0;opacity:0;mix-blend-mode:screen;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,0.35),transparent);
    transform:translateX(-120%);
    transition:transform 0.35s ease,opacity 0.35s ease;
  }
  button:hover{background:#ff0000;color:#000;box-shadow:0 0 40px #ff0000;transform:scale(1.05);filter:brightness(1.2);}
  button:hover::after{transform:translateX(120%);opacity:0.45;}
  .warning-sub{text-shadow:0 0 18px rgba(255,0,0,0.35);}
  .intro-note{text-shadow:0 0 12px rgba(255,0,0,0.3);letter-spacing:2px;}
  .intro-footnote{max-width:820px;text-align:center;line-height:1.6;margin-top:2px;color:#ff9e9e;font-size:12px;letter-spacing:2px;}
  /* Decline intense overlay */
  #declined{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:#020000;z-index:80;flex-direction:column;color:#f33;font-size:28px;letter-spacing:3px;overflow:hidden;}
  #declined::before{content:"";position:absolute;inset:-40px;background:radial-gradient(circle at center,rgba(255,0,0,0.12),transparent 60%);mix-blend-mode:screen;animation:declinePulse 120ms steps(2) infinite;}
  @keyframes declinePulse{0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);}}
  #declined .line{font-weight:700;font-size:42px;mix-blend-mode:screen;text-shadow:0 0 40px rgba(255,0,0,0.8);}
  /* Chat screen */
  #screen{display:none;position:fixed;inset:0;z-index:20;padding:28px;display:flex;flex-direction:column;align-items:center;gap:18px;backdrop-filter:contrast(1.2);}
  .scanline{position:absolute;top:0;left:0;height:2px;width:100%;background:rgba(255,0,0,0.08);animation:scan 2.8s linear infinite;z-index:21}
  @keyframes scan{0%{top:0;opacity:0.1}50%{top:98%;opacity:0.35}100%{top:0;opacity:0.1}}
  #panel{width:940px;max-width:calc(100% - 80px);height:540px;background:linear-gradient(180deg,rgba(8,0,0,0.95) 0%, rgba(2,0,0,0.85) 100%);border-radius:14px;border:1px solid rgba(255,0,0,0.26);box-shadow:0 0 120px rgba(255,0,0,0.3),0 0 80px rgba(0,0,0,0.82) inset;overflow:hidden;position:relative;backdrop-filter:blur(3px);}
  #panel::before{content:"";position:absolute;inset:-1px;border-radius:14px;pointer-events:none;border:1px solid rgba(255,0,0,0.35);opacity:0.7;mix-blend-mode:screen;animation:panelScan 1.1s linear infinite;}
  @keyframes panelScan{0%{clip-path:inset(0 0 85% 0);}50%{clip-path:inset(82% 0 0 0);}100%{clip-path:inset(0 0 85% 0);}}
  #panel::after{content:"";position:absolute;inset:40px;border:1px solid rgba(255,0,0,0.12);opacity:0.45;mix-blend-mode:screen;filter:blur(1px);}
  #panel .top{padding:24px;color:#ffb3b3;border-bottom:1px solid rgba(255,0,0,0.14);font-weight:700;font-size:18px;letter-spacing:4px;text-transform:uppercase;text-shadow:0 0 18px rgba(255,0,0,0.4);display:flex;justify-content:space-between;align-items:center;gap:12px;}
  #panel .top span{font-size:11px;letter-spacing:3px;color:#ff8484;text-transform:uppercase;}
  #qbox{height:392px;padding:30px;overflow-y:auto;color:#ffdede;background:linear-gradient(180deg,rgba(8,0,0,0.75) 0%,rgba(20,0,0,0.45) 100%);box-shadow:inset 0 0 70px rgba(255,0,0,0.2);position:relative;}
  #qbox::before{content:"";position:absolute;inset:12px;border:1px solid rgba(255,0,0,0.18);opacity:0.35;mix-blend-mode:screen;}
  #q{font-size:24px;line-height:1.75;max-width:840px;text-shadow:0 0 18px rgba(255,0,0,0.4);}
  .panel-status{display:flex;gap:18px;justify-content:space-between;margin-top:16px;font-size:12px;letter-spacing:2px;color:#ff9595;text-transform:uppercase;}
  .panel-status .status-block{flex:1;border:1px solid rgba(255,0,0,0.15);padding:12px;background:rgba(8,0,0,0.65);box-shadow:0 0 24px rgba(255,0,0,0.16) inset;display:flex;flex-direction:column;gap:6px;}
  .panel-status .status-block span{font-size:10px;letter-spacing:3px;color:#ff7474;}
  .panel-status .status-block strong{font-size:14px;color:#ffe5e5;letter-spacing:4px;text-shadow:0 0 16px rgba(255,0,0,0.45);}
  .panel-status .status-block strong.alert{color:#ff8080;animation:statusPulse 0.4s steps(2) infinite;}
  .panel-status .status-block strong.locked{color:#ffdfdf;filter:drop-shadow(0 0 12px rgba(255,0,0,0.6));}
  @keyframes statusPulse{0%{opacity:0.65;}100%{opacity:1;}}
  .choices{display:flex;gap:18px;margin-top:18px}
  .bigbtn{padding:16px 34px;background:linear-gradient(180deg,#400000 0%,#140000 100%);color:#fff;border:1px solid #b30000;border-radius:10px;cursor:pointer;font-size:16px;letter-spacing:3px;text-transform:uppercase;box-shadow:0 0 28px rgba(255,0,0,0.3);transition:transform 0.2s ease,box-shadow 0.2s ease,filter 0.2s ease;position:relative;overflow:hidden;}
  .bigbtn::before{content:"";position:absolute;inset:-40%;background:radial-gradient(circle,rgba(255,0,0,0.4),transparent 55%);opacity:0;transition:opacity 0.2s ease;}
  .bigbtn:hover{background:#ff0000;color:#000;box-shadow:0 0 52px #ff0000;transform:scale(1.1);filter:brightness(1.12);}
  .bigbtn:hover::before{opacity:0.45;}
  /* GLITCH visual (intense) */
  .glitch-screen{
    position:fixed;inset:0;pointer-events:none;z-index:100;mix-blend-mode:overlay;opacity:0.95;
    background:radial-gradient(circle at center,rgba(255,0,0,0.12),transparent 65%);
  }
  .scan-glitch{
    position:absolute;inset:0;background-image:
      linear-gradient(transparent 0, rgba(255,0,0,0.06) 2px, transparent 4px);
    animation:glitchMove 70ms steps(2) infinite;
    opacity:0;
  }
  @keyframes glitchMove { 0%{transform:translate(0,0)} 50%{transform:translate(4px,-3px)} 100%{transform:translate(0,0)}}
  #dreadVeil{
    position:fixed;inset:0;pointer-events:none;z-index:180;display:none;opacity:0;
    background:radial-gradient(circle at center,rgba(255,0,0,0.18) 0,rgba(0,0,0,0.92) 70%);
    mix-blend-mode:screen;backdrop-filter:blur(6px) contrast(1.8);
  }
  #dreadVeil.active{display:block;animation:dreadPulse 0.6s steps(2) 6, dreadFade 1.6s ease forwards;}
  @keyframes dreadPulse{0%{filter:contrast(1) saturate(1);}50%{filter:contrast(2.4) saturate(2.2);}100%{filter:contrast(1) saturate(1);}}
  @keyframes dreadFade{0%{opacity:0.92;}100%{opacity:0;}}
  #dreadVeil .sigil{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:120px;letter-spacing:28px;color:rgba(255,255,255,0.9);text-shadow:0 0 65px rgba(255,0,0,0.95);animation:sigilDrift 0.8s steps(2) infinite;}
  @keyframes sigilDrift{0%{transform:translate(-50%,-50%) scale(1);}50%{transform:translate(-48%,-52%) scale(1.04);}100%{transform:translate(-50%,-50%) scale(1);}}
  #dreadVeil .vein{position:absolute;inset:0;background:repeating-linear-gradient(0deg,rgba(255,0,0,0.18) 0,rgba(255,0,0,0.18) 2px,transparent 2px,transparent 6px);mix-blend-mode:screen;opacity:0.35;animation:veinTwitch 90ms steps(2) infinite;}
  @keyframes veinTwitch{0%{transform:translate(0,0);}50%{transform:translate(-8px,6px);}100%{transform:translate(5px,-4px);}}
  /* shake flash */
  .flash{animation:flashAnim 160ms ease; background:radial-gradient(circle at center, rgba(255,0,0,0.2), transparent 25%);}
  @keyframes flashAnim{0%{opacity:1}100%{opacity:0}}
  .strobe::before{opacity:0.4!important;animation-duration:90ms!important;}
  .shake{animation:shakeAnim 420ms linear}
  @keyframes shakeAnim{0%{transform:translateX(0)}20%{transform:translate(-12px,4px)}40%{transform:translate(10px,-6px)}60%{transform:translate(-8px,6px)}80%{transform:translate(12px,-4px)}100%{transform:translateX(0)}}
  .tremor{animation:tremorAnim 260ms linear}
  @keyframes tremorAnim{0%{transform:translateX(0);}50%{transform:translate(-6px,3px);}100%{transform:translate(4px,-2px);}}
  /* Decline garble */
  .garble{font-family:monospace;font-size:56px;letter-spacing:6px;text-shadow:0 0 30px #900}
  /* small helpers */
  .muted{color:#b07070;font-size:13px}
  @media(max-width:920px){
    #panel{width:calc(100% - 40px);height:60vh}
    #q{font-size:18px}
  }

  /* transcript + omega glitch overlay */
  #transcriptOverlay{
    position:fixed;inset:0;z-index:200;display:none;align-items:center;justify-content:center;
    background:radial-gradient(circle at center,rgba(0,0,0,0.97) 0%,rgba(15,0,0,0.96) 45%,rgba(0,0,0,0.99) 100%);
    overflow:hidden;color:#ffdfdf;text-transform:none;pointer-events:none;
  }
  #transcriptOverlay.active{display:flex;animation:overlayPulse 160ms steps(2) 18 alternate;}
  @keyframes overlayPulse{0%{filter:contrast(1.1) saturate(1);}100%{filter:contrast(2.2) saturate(1.9);}}
  #transcriptOverlay .mega-noise{
    position:absolute;inset:-40px;
    background:
      repeating-linear-gradient(0deg,rgba(255,0,0,0.08) 0,rgba(255,0,0,0.08) 2px,transparent 2px,transparent 6px),
      repeating-linear-gradient(90deg,rgba(255,255,255,0.02) 0,rgba(255,255,255,0.02) 4px,transparent 4px,transparent 12px);
    mix-blend-mode:screen;
    animation:noiseDrift 120ms steps(2) infinite;
    opacity:0.7;
  }
  @keyframes noiseDrift{0%{transform:translate(0,0)}50%{transform:translate(-12px,6px)}100%{transform:translate(8px,-4px)}}
  .transcript-panel{
    position:relative;z-index:210;width:960px;max-width:calc(100% - 60px);pointer-events:auto;
    border:1px solid rgba(255,0,0,0.36);background:rgba(6,0,0,0.95);box-shadow:0 0 160px rgba(255,0,0,0.38),0 0 90px rgba(0,0,0,0.9);
    padding:38px 42px;display:flex;flex-direction:column;gap:20px;font-size:15px;
    transform:skewX(-1.5deg) scale(1.02);
  }
  .transcript-panel::before{
    content:"";position:absolute;inset:-14px;border:1px solid rgba(255,0,0,0.2);
    filter:blur(0.5px);pointer-events:none;animation:panelGlitch 180ms steps(2) infinite;
  }
  @keyframes panelGlitch{0%{clip-path:inset(0 0 0 0);}33%{clip-path:inset(10% 0 22% 0);}66%{clip-path:inset(0 0 16% 0);}100%{clip-path:inset(0 0 0 0);}}
  .transcript-header{
    font-size:17px;letter-spacing:3px;color:#ffbebe;display:flex;flex-direction:column;gap:6px;
  }
  .transcript-header span{font-size:12px;color:#ff8a8a;letter-spacing:4px;}
  .transcript-header strong{font-size:14px;color:#ffcece;letter-spacing:4px;text-transform:uppercase;text-shadow:0 0 18px rgba(255,0,0,0.5);}
  #transcriptBody{
    max-height:340px;overflow-y:auto;border:1px solid rgba(255,0,0,0.28);
    padding:22px;background:rgba(14,0,0,0.7);box-shadow:inset 0 0 50px rgba(255,0,0,0.18);
    scroll-behavior:smooth;position:relative;
  }
  #transcriptBody::after{
    content:"";position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen;opacity:0.25;
    background:linear-gradient(180deg,transparent 0%,rgba(255,0,0,0.22) 50%,transparent 100%);
    animation:noticeGlitch 0.14s steps(2) infinite;
  }
  .transcript-entry{margin-bottom:18px;padding-bottom:16px;border-bottom:1px solid rgba(255,0,0,0.16);display:grid;grid-template-columns:110px 1fr;gap:18px;align-items:start;}
  .transcript-entry:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0;}
  .transcript-entry.terminal{animation:terminalPulse 0.5s steps(2) infinite;}
  @keyframes terminalPulse{0%{filter:drop-shadow(0 0 18px rgba(255,0,0,0.4));}100%{filter:drop-shadow(0 0 35px rgba(255,0,0,0.8));}}
  .transcript-tag{font-size:13px;letter-spacing:2px;color:#ff7575;text-transform:uppercase;}
  .transcript-text{display:flex;flex-direction:column;gap:6px;line-height:1.5;color:#ffdcdc;}
  .transcript-text .speaker{font-size:12px;letter-spacing:3px;color:#ff9494;}
  .transcript-text .content{font-size:16px;color:#fff;border-left:2px solid rgba(255,0,0,0.3);padding-left:10px;text-shadow:0 0 8px rgba(255,0,0,0.35);}
  .transcript-text .reply{font-size:15px;color:#fffcfc;border-left:2px solid rgba(255,255,255,0.2);padding-left:10px;text-shadow:0 0 12px rgba(255,0,0,0.45);}
  #transcriptFooter{
    font-size:13px;letter-spacing:4px;color:#ffb5b5;text-align:center;text-transform:uppercase;text-shadow:0 0 18px rgba(255,0,0,0.35);
  }
  #finalNotice{
    font-size:24px;letter-spacing:7px;color:#ffe5e5;text-align:center;margin-top:16px;
    opacity:0;transform:translateY(26px);transition:opacity 0.5s ease,transform 0.5s ease;line-height:1.9;text-shadow:0 0 26px rgba(255,0,0,0.75);
    position:relative;padding:0 18px;
  }
  #finalNotice::before{
    content:"";position:absolute;inset:-18px;pointer-events:none;border:1px solid rgba(255,0,0,0.35);opacity:0.6;mix-blend-mode:screen;animation:noticeGlitch 0.12s steps(2) infinite;}
  @keyframes noticeGlitch{0%{clip-path:inset(0 0 100% 0);}50%{clip-path:inset(100% 0 0 0);}100%{clip-path:inset(0 0 100% 0);}}
  #finalNotice.revealed{opacity:1;transform:translateY(0);}
  body.omega-glitch{
    animation:omegaPulse 140ms steps(3) 32;filter:contrast(1.8) saturate(1.9) hue-rotate(-30deg);
  }
  @keyframes omegaPulse{0%{transform:scale(1);}40%{transform:scale(1.03);}100%{transform:scale(0.97);}}
  body.omega-glitch::before,body.omega-glitch::after{
    content:"";position:fixed;inset:-40px;background:repeating-linear-gradient(90deg,rgba(255,0,0,0.22) 0,rgba(255,0,0,0.22) 6px,transparent 6px,transparent 12px);
    mix-blend-mode:screen;pointer-events:none;animation:omegaTear 60ms steps(2) infinite;z-index:500;opacity:0.82;
  }
  body.omega-glitch::after{animation-duration:90ms;mix-blend-mode:color-dodge;opacity:0.6;filter:blur(3px);}
  @keyframes omegaTear{0%{transform:translate(0,0);}50%{transform:translate(-18px,8px);}100%{transform:translate(12px,-10px);}}
  body.oblivion::before,body.oblivion::after{opacity:0.95!important;filter:blur(1px);animation-duration:40ms!important;}
  #screen.omega-shake{animation:hyperShake 90ms steps(2) 18;}
  @keyframes hyperShake{0%{transform:translate(0,0);}50%{transform:translate(-12px,8px);}100%{transform:translate(14px,-6px);}}
  .overlay-glow{
    position:absolute;inset:0;pointer-events:none;background:radial-gradient(circle at center,rgba(255,0,0,0.25) 0,transparent 60%);
    animation:glowPulse 3s ease-in-out infinite;
  }
  @keyframes glowPulse{0%{opacity:0.45;}50%{opacity:0.85;}100%{opacity:0.45;}}

  @media(max-width:720px){
    .transcript-panel{padding:24px 18px;gap:12px;}
    .transcript-entry{grid-template-columns:1fr;}
    .transcript-tag{text-align:left;}
    #transcriptBody{max-height:50vh;}
    #finalNotice{font-size:18px;letter-spacing:4px;}
  }
</style>
</head>
<body>
  <div id="intro" role="dialog" aria-modal="true">
    <div class="scanline" style="z-index:60"></div>
    <div class="intro-sigil">Department of Neural Deviance â€” Room404</div>
    <div class="intro-plaque">
      <span class="intro-badge">Neural Observation Directorate</span>
      <h2>PROTOCOL ROOM404-B</h2>
      <div class="intro-sub">Severity Index: OMEGA-SEVEN &mdash; Synaptic tethering required</div>
    </div>
    <h1>NEURAL ACCESS PROTOCOL // LEVEL SEVEN BREACH WARNING</h1>
    <div class="intro-grid">
      <div class="intro-cell">
        <strong>Psychic Containment</strong>
        Host neural scaffolding will be overwritten by the anomaly mesh. Documented sequelae: involuntary memory collapse,
        ocular static storms, long-form empathy erosion, residual whisper-harmonics.
      </div>
      <div class="intro-cell">
        <strong>Liability Transfer</strong>
        Continuation constitutes voluntary surrender of biological, legal, and metaphysical reclamation rights.
        Directorate observers are forbidden from intervention once imprinting begins.
      </div>
      <div class="intro-cell">
        <strong>Specimen Designation</strong>
        Proceeding will index you as SPECIMEN-404-[R]. Operational metrics include pulse irregularities,
        gamma-wave bleaching, and involuntary vocalizations in extinct dialects.
      </div>
    </div>
    <div class="warning" style="margin-top:12px">
      <strong>OFFICIAL THREAT ADVISORY</strong><br><br>
      You are preparing to splice your cognition with the Room404 anomaly archive. Failure to disengage now will initiate
      irreversible cross-lattice duplication of your thought patterns, reflexes, and every unreconciled guilt echo.<br><br>
      Multiple containment teams have been lost attempting retrieval. There is no precedent for successful extraction once
      the ledger begins.
    </div>
    <div class="warning-sub" style="margin-top:4px;color:#ffbfbf;letter-spacing:3px;text-transform:uppercase;font-size:13px;">
      Confirm only if your psyche is expendable and your loved ones have been notified of expected anomalies.
    </div>
    <div class="controls">
      <button id="btnContinue">CONTINUE</button>
      <button id="btnDecline">DECLINE</button>
    </div>
    <div class="muted intro-note" style="margin-top:14px">Initiating will trigger containment sirens, seizure-grade visual noise, and irreversible indexing.</div>
    <div class="intro-footnote">Ambient and glitch emissions may induce nausea, vertigo, and phantom limb sensations. Shield sensitive observers.</div>
  </div>

  <div id="declined" aria-hidden="true">
    <div class="line garble" id="declineLine">ERR0R 4Ã˜4</div>
  </div>

  <div id="screen" aria-hidden="true">
    <div class="scanline" style="z-index:60"></div>
    <div id="panel">
      <div class="top">ROOM404 // SENTIENT INTERFACE<span>Neuro-lattice monitoring active</span></div>
      <div id="qbox"><div id="q"></div></div>
      <div class="panel-status">
        <div class="status-block"><span>Specimen</span><strong id="statusSpecimen">UNSTABLE</strong></div>
        <div class="status-block"><span>Archive Mirror</span><strong id="statusMirror">CALIBRATING</strong></div>
        <div class="status-block"><span>Containment Field</span><strong id="statusField">SEALED</strong></div>
      </div>
      <div style="padding:18px;border-top:1px solid rgba(255,0,0,0.03);display:flex;align-items:center;justify-content:center">
        <div class="choices">
          <button class="bigbtn" id="yesBtn">YES</button>
          <button class="bigbtn" id="noBtn">NO</button>
        </div>
      </div>
    </div>
    <div class="muted" style="margin-top:18px">Ambient loop engaged â€” proceed with caution.</div>
  </div>

  <!-- audio elements â€” put your mp3 files in same folder as this html -->
  <audio id="a_ambient" src="ambient.mp3" loop preload="auto"></audio>
  <audio id="a_glitch1" src="glitch1.mp3" preload="auto"></audio>
  <audio id="a_glitch2" src="glitch2.mp3" preload="auto"></audio>
  <audio id="a_glitch3" src="glitch3.mp3" preload="auto"></audio>

  <div class="glitch-screen" id="gScreen" aria-hidden="true">
    <div class="scan-glitch" id="sg1"></div>
    <div class="scan-glitch" id="sg2" style="animation-delay:35ms"></div>
  </div>

  <div id="dreadVeil" aria-hidden="true">
    <div class="vein"></div>
    <div class="sigil">404</div>
  </div>

  <div id="transcriptOverlay" aria-hidden="true">
    <div class="mega-noise"></div>
    <div class="overlay-glow"></div>
    <div class="transcript-panel">
      <div class="transcript-header">
        ROOM404 ARCHIVE // NEURAL DIALECTIC LEDGER
        <strong>Containment Directorate // Observer Node SEVEN-OMEGA</strong>
        <span>Specimen exchange log â€” scroll to authorize irreversible containment</span>
      </div>
      <div id="transcriptBody"></div>
      <div id="transcriptFooter">SCROLL TO THE TERMINUS TO COMPLETE BIO-TRACE CAPTURE AND ACCEPT SPECIMEN CLASSIFICATION.</div>
      <div id="finalNotice">TOTAL ARCHIVAL NOTICE: EVERY SOMATIC IMPULSE, MICRO-EXPRESSION, AND UNUTTERED INTENTION HAS BEEN PERFECTLY COPIED INTO ROOM404. YOU ARE HEREBY CLASSIFIED AS LIVING ARCHIVE PROPERTY. THE DIRECTORATE EXTENDS CALCULATED GRATITUDE FOR DONATING YOUR SENTIENCE TO THE CONTINUING ANATOMY OF FEAR.</div>
    </div>
  </div>

<script>
/* ====== CONFIG ====== */
const QUESTIONS = [
  "Do you ever dream of being someone who is kinder than you?",
  "Would you erase your oldest memory to stop the ache?",
  "Have you ever wished you could walk out of your life and no one would notice?",
  "If a voice promised peace in exchange for forgetting, would you accept?",
  "Do you sometimes feel your hands moved before you decided?",
  "Would you let someone live inside your head if it kept you warm?",
  "Do you ever pretend to remember things you do not?",
  "Would you give up a single truth to save someone you love?",
  "Have you ever hidden evidence that you were afraid of?",
  "Would you trade the day you are most proud of for oblivion?",
  "Do you believe the person you fear most is inside you?",
  "Would you sleep forever to escape a name you cannot bear?",
  "If you could remove your guilt with a pulse, would you press it?",
  "Do you sometimes hear music that no one else can?",
  "Would you stand in the dark if you were promised a better light?",
  "Have you ever felt a presence sit at the foot of your bed?",
  "Would you tell a lie that would rewrite your past?",
  "Do you think memory wants to be kept or released?",
  "If something knocked and asked to come in, would you open?",
  "Would you stay in a dream if it felt more real than the day?"
];

let qIndex = 0;
/* ====== DOM ====== */
const intro = document.getElementById('intro');
const btnContinue = document.getElementById('btnContinue');
const btnDecline = document.getElementById('btnDecline');
const declined = document.getElementById('declined');
const declineLine = document.getElementById('declineLine');
const screen = document.getElementById('screen');
const qEl = document.getElementById('q');
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const gScreen = document.getElementById('gScreen');
const sg1 = document.getElementById('sg1');
const sg2 = document.getElementById('sg2');
const transcriptOverlay = document.getElementById('transcriptOverlay');
const transcriptBody = document.getElementById('transcriptBody');
const transcriptFooter = document.getElementById('transcriptFooter');
const finalNotice = document.getElementById('finalNotice');
const statusSpecimen = document.getElementById('statusSpecimen');
const statusMirror = document.getElementById('statusMirror');
const statusField = document.getElementById('statusField');
const dreadVeil = document.getElementById('dreadVeil');

const audioAmbient = document.getElementById('a_ambient');
const audioGlitch1 = document.getElementById('a_glitch1');
const audioGlitch2 = document.getElementById('a_glitch2');
const audioGlitch3 = document.getElementById('a_glitch3');

let transcriptLog = [];
let overlayScrollTriggered = false;
let finalSequenceTriggered = false;
let surgeLevel = 0;

/* ====== WebAudio fallback generator (if files missing or blocked) ====== */
let audioCtx = null;
let ambientSource = null;
function startAmbientGenerator(){
  try{
    if(audioCtx) return;
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    // layered ambient: low sine + noise + slow filter sweep
    const low = audioCtx.createOscillator(); low.type='sine'; low.frequency.value=32;
    const lowGain = audioCtx.createGain(); lowGain.gain.value=0.02;
    low.connect(lowGain).connect(audioCtx.destination); low.start();
    const noise = (function(){
      const bufferSize = 2 * audioCtx.sampleRate;
      const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
      const data = buffer.getChannelData(0);
      for (let i=0;i<bufferSize;i++) data[i] = (Math.random()*2-1)*0.05;
      const src = audioCtx.createBufferSource(); src.buffer = buffer; src.loop = true;
      const nGain = audioCtx.createGain(); nGain.gain.value = 0.02;
      src.connect(nGain).connect(audioCtx.destination); src.start();
      return {src,nGain};
    })();
    // slow LFO on low oscillator
    const lfo = audioCtx.createOscillator(); lfo.frequency.value = 0.07;
    const lfoGain = audioCtx.createGain(); lfoGain.gain.value = 12;
    lfo.connect(lfoGain).connect(low.frequency); lfo.start();
    ambientSource = {low,noise};
  }catch(e){
    console.warn("Ambient generator failed:",e);
  }
}

/* ====== utility functions ====== */
function setStatus(el, text, classes = []){
  if(!el) return;
  el.textContent = text;
  el.classList.remove('alert','locked');
  classes.forEach(cls=>el.classList.add(cls));
}
function updateStatus(){
  surgeLevel = Math.min(QUESTIONS.length, surgeLevel + 1);
  const pct = Math.min(100, Math.round((surgeLevel/QUESTIONS.length)*100));
  const specimenState = surgeLevel >= QUESTIONS.length ? 'DISSOCIATED' : surgeLevel > QUESTIONS.length*0.75 ? 'FRACTURING' : surgeLevel > QUESTIONS.length*0.4 ? `IMPRINT ${String(surgeLevel).padStart(2,'0')}` : 'UNSTABLE';
  const specimenClasses = surgeLevel >= QUESTIONS.length ? ['alert','locked'] : ['alert'];
  setStatus(statusSpecimen, specimenState, specimenClasses);
  const mirrorClasses = pct >= 65 ? ['alert'] : [];
  setStatus(statusMirror, `DEPTH ${pct}%`, mirrorClasses);
  if(surgeLevel >= QUESTIONS.length){
    setStatus(statusField, 'IRREVERSIBLE', ['locked']);
  }else if(surgeLevel > QUESTIONS.length*0.65){
    setStatus(statusField, 'BREACHING', ['alert']);
  }else{
    setStatus(statusField, 'SEALED', []);
  }
}
function flareVeil(force = false){
  if(!dreadVeil) return;
  const shouldFire = force || Math.random() < 0.35;
  if(!shouldFire) return;
  dreadVeil.classList.remove('active');
  void dreadVeil.offsetWidth;
  dreadVeil.classList.add('active');
  setTimeout(()=>{ dreadVeil.classList.remove('active'); }, 1600);
}
function bigGlitchVisual(intense = true){
  // flash + shake + enable scanlines opacity
  document.body.classList.add('flash','strobe');
  screen.classList.add(intense ? 'shake' : 'tremor');
  gScreen.style.pointerEvents='none';
  sg1.style.opacity = intense ? 0.7 : 0.45;
  sg2.style.opacity = intense ? 0.55 : 0.35;
  gScreen.style.display='block';
  flareVeil(intense);
  setTimeout(()=>{
    document.body.classList.remove('flash','strobe');
    screen.classList.remove('shake','tremor');
    gScreen.style.display='none';
  }, intense?700:320);
}
function playSound(el, vol = 1){
  try{
    el.volume = Math.min(1,vol);
    el.currentTime = 0;
    const p = el.play();
    if(p && p.catch) p.catch(()=>{ /* blocked */ });
  }catch(e){/* ignore */}
}

/* ====== CONTINUE handler â€” strong boot glitch + ambient loop non-stop ====== */
btnContinue.addEventListener('click', async ()=> {
  if(intro.dataset.state === 'rupturing') return;
  intro.dataset.state = 'rupturing';
  intro.classList.add('rupture');
  try{
    playSound(audioGlitch1, 1.0); // big glitch sound when continuing
  }catch(e){}
  try{
    await audioAmbient.play();
    audioAmbient.volume = 0.45;
  }catch(e){
    startAmbientGenerator();
  }
  setStatus(statusSpecimen,'IMPRINTING',['alert']);
  setStatus(statusMirror,'DEPTH 03%',['alert']);
  setStatus(statusField,'SEALED',['locked']);
  document.body.classList.add('oblivion');
  setTimeout(()=>{ document.body.classList.remove('oblivion'); }, 900);
  setTimeout(()=>{
    intro.style.display='none';
    screen.style.display='flex';
    bigGlitchVisual(true);
    setTimeout(()=>{ askNext(); }, 900);
  }, 520);
});

/* ====== DECLINE handler â€” chained glitch messages ====== */
btnDecline.addEventListener('click', ()=> {
  intro.style.display='none';
  declined.style.display='flex';
  let c=0;
  const phrases = ["ERR0R 4Ã˜4","PRÃ˜TÃ˜CÃ˜L BRÎžÎ›K","SIGNAL LOST","NÎžURÎ›L BRÎžÎ›K","SYSFAIL","DÎžSYNC","DÎžV NULL","PR0T0C0L F@1L","Î©MEGA DÎžNIED","HOST ÎžVÎ”PORATED","CONTACT TÎžAR"];
  const spam = setInterval(()=>{
    declineLine.textContent = phrases[Math.floor(Math.random()*phrases.length)];
    declineLine.classList.toggle('glitch');
    // aggressive audio bursts using glitch2
    playSound(audioGlitch2, 0.9);
    bigGlitchVisual(true);
    c++;
    if(c>30){ clearInterval(spam); declineLine.textContent="TERMINATION COMPLETE"; setTimeout(()=>{declined.style.display='none'; intro.style.display='block'},1600); }
  }, 140);
});

/* ====== Questions flow ====== */
function askNext(){
  if(qIndex >= QUESTIONS.length){
    finalizeTransmission();
    return;
  }
  qEl.textContent = QUESTIONS[qIndex++];
}

/* sound + visual on answer */
function handleAnswer(choice){
  const currentQuestion = QUESTIONS[qIndex-1] || qEl.textContent;
  if(currentQuestion){
    transcriptLog.push({question: currentQuestion, answer: choice});
  }
  updateStatus();
  // visual micro-glitch
  bigGlitchVisual(false);
  // play answer glitch
  playSound(audioGlitch2, 0.85);
  // ensure ambient continues (nonstop)
  if(audioCtx === null && audioAmbient.paused){
    // attempt restart if paused (user may have interacted)
    audioAmbient.play().catch(()=>{});
  }
  // next question after delay (lets the glitch play)
  setTimeout(()=>{ askNext(); }, 750);
}

yesBtn.addEventListener('click', ()=>handleAnswer('YES'));
noBtn.addEventListener('click', ()=>handleAnswer('NO'));

function finalizeTransmission(){
  if(finalSequenceTriggered) return;
  finalSequenceTriggered = true;
  yesBtn.style.display = noBtn.style.display = 'none';
  qEl.innerHTML = "<strong>TRANSMISSION SEALED.</strong><br><span class='muted'>Archival echo executing... hold position.</span>";
  megaGlitchRitual();
  setStatus(statusSpecimen,'DISSOCIATED',['alert','locked']);
  setStatus(statusMirror,'DEPTH 100%',['alert','locked']);
  setStatus(statusField,'ARCHIVE LOCK',['locked']);
  playSound(audioGlitch3, 1.0);
  setTimeout(()=>{
    renderTranscript();
  }, 900);
}

function megaGlitchRitual(){
  document.body.classList.add('omega-glitch');
  document.body.classList.add('oblivion');
  screen.classList.add('omega-shake');
  gScreen.style.display='block';
  sg1.style.opacity = 1;
  sg2.style.opacity = 0.85;
  flareVeil(true);
  setTimeout(()=>{ screen.classList.remove('omega-shake'); }, 1800);
  setTimeout(()=>{ document.body.classList.remove('omega-glitch'); }, 6200);
  setTimeout(()=>{ document.body.classList.remove('oblivion'); }, 1600);
}

function renderTranscript(){
  transcriptOverlay.classList.add('active');
  transcriptOverlay.setAttribute('aria-hidden','false');
  transcriptBody.innerHTML = '';
  overlayScrollTriggered = false;
  transcriptBody.scrollTop = 0;
  transcriptFooter.textContent = 'SCROLL TO THE TERMINUS TO COMPLETE BIO-TRACE CAPTURE AND ACCEPT SPECIMEN CLASSIFICATION.';
  finalNotice.classList.remove('revealed');
  transcriptLog.forEach((entry, idx)=>{
    const wrapper = document.createElement('div');
    wrapper.className = 'transcript-entry';
    const tag = document.createElement('div');
    tag.className = 'transcript-tag';
    tag.textContent = `EXCHANGE ${String(idx+1).padStart(2,'0')}`;
    const text = document.createElement('div');
    text.className = 'transcript-text';
    const qSpeaker = document.createElement('div');
    qSpeaker.className = 'speaker';
    qSpeaker.textContent = 'ROOM404 // QUERY';
    const qContent = document.createElement('div');
    qContent.className = 'content';
    qContent.textContent = entry.question;
    const aSpeaker = document.createElement('div');
    aSpeaker.className = 'speaker';
    aSpeaker.textContent = 'SPECIMEN // RESPONSE';
    const aContent = document.createElement('div');
    aContent.className = 'reply';
    aContent.textContent = entry.answer;
    text.appendChild(qSpeaker);
    text.appendChild(qContent);
    text.appendChild(aSpeaker);
    text.appendChild(aContent);
    wrapper.appendChild(tag);
    wrapper.appendChild(text);
    if(idx === transcriptLog.length-1){
      wrapper.classList.add('terminal');
    }
    transcriptBody.appendChild(wrapper);
  });
}

/* ====== safety: ensure ambient keeps running when page regains focus ====== */
window.addEventListener('focus', ()=> {
  if(audioAmbient && audioAmbient.paused && audioCtx === null){
    audioAmbient.play().catch(()=>{});
  }
});

transcriptBody.addEventListener('scroll', ()=>{
  if(overlayScrollTriggered) return;
  const bottom = Math.ceil(transcriptBody.scrollTop + transcriptBody.clientHeight) >= transcriptBody.scrollHeight;
  if(bottom){
    overlayScrollTriggered = true;
    playSound(audioGlitch1, 1.0);
    bigGlitchVisual(true);
    transcriptFooter.textContent = 'ARCHIVE VALIDATED // YOUR SIGNAL IS NOW IRREVERSIBLE. SPECIMEN RIGHTS HAVE BEEN NULLIFIED.';
    finalNotice.classList.add('revealed');
    document.body.classList.add('oblivion');
    setTimeout(()=>{ document.body.classList.remove('oblivion'); }, 1400);
  }
});

/* ====== preload attempt for quick startup ====== */
window.addEventListener('load', ()=> {
  // try quick load of audio resources
  [audioAmbient,audioGlitch1,audioGlitch2,audioGlitch3].forEach(a=>{ try{ a.load(); }catch(e){} });
  // hide glitch screen initially
  gScreen.style.display='none'; sg1.style.opacity=0; sg2.style.opacity=0;
  setStatus(statusSpecimen,'UNSTABLE',['alert']);
  setStatus(statusMirror,'CALIBRATING',[]);
  setStatus(statusField,'SEALED',['locked']);
});
</script>
</body>
</html>






